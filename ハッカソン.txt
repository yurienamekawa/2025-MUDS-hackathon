Last login: Fri Jun 27 14:58:07 on ttys012
ğŸ® igarashiayaka:~ % ls
Applications	Documents	Library		No1
db-design	Downloads	Movies		Pictures
Desktop		Lecture		Music		Public
ğŸ® igarashiayaka:~ % createdb 25bbs
ğŸ® igarashiayaka:~ % psql 25bbs
psql (17.4 (Homebrew))
"help"ã§ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

25bbs=# \d
ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
25bbs=# \q
ğŸ® igarashiayaka:~ % 
ğŸ® igarashiayaka:~ % ls
Applications	Documents	Library		No1
db-design	Downloads	Movies		Pictures
Desktop		Lecture		Music		Public
ğŸ® igarashiayaka:~ % mkdir 2025MUDShackathon
ğŸ® igarashiayaka:~ % cd 2025MUDShackathon
ğŸ® igarashiayaka:~/2025MUDShackathon % code .
ğŸ® igarashiayaka:~/2025MUDShackathon % python -m venv .venv
ğŸ® igarashiayaka:~/2025MUDShackathon % source .venv/bin/activate
(.venv) ğŸ® igarashiayaka:~/2025MUDShackathon % code .
(.venv) ğŸ® igarashiayaka:~/2025MUDShackathon % cd
(.venv) ğŸ® igarashiayaka:~ % deactivate
ğŸ® igarashiayaka:~ % ls
2025MUDShackathon	Downloads		No1
Applications		Lecture			Pictures
db-design		Library			Public
Desktop			Movies
Documents		Music
ğŸ® igarashiayaka:~ % rmdir 2025MUDShackathon
rmdir: 2025MUDShackathon: Directory not empty
ğŸ® igarashiayaka:~ % rmdir 2025MUDShackathon
rmdir: 2025MUDShackathon: Directory not empty
ğŸ® igarashiayaka:~ % rm -r 2025MUDShackathon
ğŸ® igarashiayaka:~ % ls
Applications	Documents	Library		No1
db-design	Downloads	Movies		Pictures
Desktop		Lecture		Music		Public
ğŸ® igarashiayaka:~ % psql 25bbs               
psql (17.4 (Homebrew))
"help"ã§ãƒ˜ãƒ«ãƒ—ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

25bbs=# CREATE TABLE users(
user_id SERIAL PRIMARY KEY,
class_year INT NOT NULL,
random_name VARCHAR(30) NOT NULL UNIQUE,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
firebae_uid VARCHAR(40) NOT NULL UNIQUE
);
CREATE TABLE
25bbs=# CREATE TABLE posts(
post_id SERIAL PRIMARY KEY,
contents TEXT NOT NULL,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
user_id INT NOT NULL REFERENCES users(user_id),
category_id INT NOT NULL REFERENCES categories(category_id)
);
ERROR:  relation "categories" does not exist
25bbs=# CREATE TABLE categories(
category_id SERIAL PRIMARY KEY,
name VARCHAR(50) NOT NULL UNIQUE
);
CREATE TABLE
25bbs=# CREATE TABLE likes(
like_id SERIAL PRIMARY KEY,
user_id INT NOT NULL REFERENCES users(user_id),
post_id INT NOT NULL REFERENCES posts(post_id),
UNIQUE(user_id,post_id)
);
ERROR:  relation "posts" does not exist
25bbs=# CREATE TABLE posts(
post_id SERIAL PRIMARY KEY,
contents TEXT NOT NULL,
created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
user_id INT NOT NULL REFERENCES users(user_id),
category_id INT NOT NULL REFERENCES categories(category_id)
);
CREATE TABLE
25bbs=# CREATE TABLE likes(
like_id SERIAL PRIMARY KEY,
user_id INT NOT NULL REFERENCES users(user_id),
post_id INT NOT NULL REFERENCES posts(post_id),
UNIQUE(user_id,post_id)
);
CREATE TABLE
25bbs=# CREATE TABLE badges(
badge_id SERIAL PRIMARY KEY,
name VARCHAR(100) NOT NULL UNIQUE
);
CREATE TABLE
25bbs=# \d
                          ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§
 ã‚¹ã‚­ãƒ¼ãƒ |            åå‰            |   ã‚¿ã‚¤ãƒ—   |    æ‰€æœ‰è€…     
----------+----------------------------+------------+---------------
 public   | badges                     | ãƒ†ãƒ¼ãƒ–ãƒ«   | igarashiayaka
 public   | badges_badge_id_seq        | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | igarashiayaka
 public   | categories                 | ãƒ†ãƒ¼ãƒ–ãƒ«   | igarashiayaka
 public   | categories_category_id_seq | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | igarashiayaka
 public   | likes                      | ãƒ†ãƒ¼ãƒ–ãƒ«   | igarashiayaka
 public   | likes_like_id_seq          | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | igarashiayaka
 public   | posts                      | ãƒ†ãƒ¼ãƒ–ãƒ«   | igarashiayaka
 public   | posts_post_id_seq          | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | igarashiayaka
 public   | users                      | ãƒ†ãƒ¼ãƒ–ãƒ«   | igarashiayaka
 public   | users_user_id_seq          | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | igarashiayaka
(10 è¡Œ)

25bbs=# DROP TABLE users;
ERROR:  cannot drop table users because other objects depend on it
DETAIL:  constraint posts_user_id_fkey on table posts depends on table users
constraint likes_user_id_fkey on table likes depends on table users
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
25bbs=# DROP TABLE users;
ERROR:  cannot drop table users because other objects depend on it
DETAIL:  constraint posts_user_id_fkey on table posts depends on table users
constraint likes_user_id_fkey on table likes depends on table users
HINT:  Use DROP ... CASCADE to drop the dependent objects too.
25bbs=# DROP TABLE likes;
DROP TABLE
25bbs=# DROP TABLE posts;
DROP TABLE
25bbs=# DROP TABLE badges;
DROP TABLE
25bbs=# DROP TABLE badges;
ERROR:  table "badges" does not exist
25bbs=# DROP TABLE users;
DROP TABLE
25bbs=# \d
                          ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸€è¦§
 ã‚¹ã‚­ãƒ¼ãƒ |            åå‰            |   ã‚¿ã‚¤ãƒ—   |    æ‰€æœ‰è€…     
----------+----------------------------+------------+---------------
 public   | categories                 | ãƒ†ãƒ¼ãƒ–ãƒ«   | igarashiayaka
 public   | categories_category_id_seq | ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ | igarashiayaka
(2 è¡Œ)

25bbs=# DROP TABLE categories;
DROP TABLE
25bbs=# \d
ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
25bbs=# -- ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’æ ¼ç´ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    firebase_uid VARCHAR(255) NOT NULL UNIQUE, -- Firebaseã®UID (typoä¿®æ­£)
    anonymous_id VARCHAR(30) NOT NULL UNIQUE, -- ãƒ©ãƒ³ãƒ€ãƒ ãªåŒ¿åID
    term INT NOT NULL,                         -- æœŸ
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

-- ãƒˆãƒ”ãƒƒã‚¯ï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰ã‚’æ ¼ç´ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE topics (
    topic_id SERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE
);

-- æŠ•ç¨¿å†…å®¹ã‚’æ ¼ç´ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«
CREATE TABLE posts (
    post_id SERIAL PRIMARY KEY,
    user_id INT NOT NULL REFERENCES users(user_id),
    topic_id INT NOT NULL REFERENCES topics(topic_id),
    contents TEXT NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

('BohPJ');'),opics (name) VALUESypoä¿®æ­£ã¨ãƒ‡ãƒ¼ã‚¿è¿½åŠ )æ„æ€§ã‚’æ‹…ä¿ï¼ˆã“ã¡ã‚‰ãŒåŠ¹ç‡çš„ã§
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
CREATE TABLE
INSERT 0 10
25bbs=# 
